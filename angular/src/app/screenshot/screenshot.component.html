<ngb-tabset #tabset="ngbTabset" *ngIf="url">
  <ngb-tab *ngFor="let device of devices">
    <ng-template ngbTabTitle>
      {{ device.name }}
      <i class="fa fa-check" *ngIf="url.status.devices[device.id]?.status === STATUS.GOOD"></i>
      <i class="fa fa-times" *ngIf="url.status.devices[device.id]?.status === STATUS.BAD"></i>
    </ng-template>

    <ng-template ngbTabContent>
      <div class="screenshots">
        <ng-template [ngIf]="url.screenshots[device.id]" [ngIfElse]="noScreenshot">
          <img [src]="api_url + '/screenshots/' + url.screenshots[device.id]" class="screenshot">
        </ng-template>
        <ng-template #noScreenshot>
          No screenshot available
        </ng-template>
        <br>
        <br>
        <div class="text-center mb-5">
          <div class="btn-group btn-group-toggle" ngbRadioGroup name="radioBasic" [ngModel]="url.status.devices[device.id]?.status" (ngModelChange)="statusChange(url, device, url.status.devices[device.id]?.id, $event)">
            <label ngbButtonLabel class="btn-primary">
              <input ngbButton type="radio" [value]="STATUS.GOOD"> Good
            </label>
            <label ngbButtonLabel class="btn-primary">
              <input ngbButton type="radio" [value]="STATUS.BAD"> Bad
            </label>
          </div>
        </div>
      </div>
    </ng-template>
  </ngb-tab>
</ngb-tabset>
